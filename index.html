<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <script>

      $(document).ready(function(){
        const $body = $('body');
        $body.html('');

        for (let i = 0; i<streams.home.length; i++){
          const tweet = streams.home[i];
          const $tweet = $('<div></div>');
          $tweet.html(`<p>@${tweet.user}: ${tweet.message}</p>
          <span>${tweet.created_at.toLocaleString()}</span>`);
          $tweet.addClass('tweetDiv')
          $tweet.appendTo($body);
        }

        let update = true;
        let lastUpdate = streams.home.length;
        const renderNewTweets = ()=>{
          let currTweets = streams.home;
          if(currTweets.length > lastUpdate){
            let newTweets = currTweets.slice(lastUpdate);
            console.log(newTweets);
          }
        }
        if(update === true){
          setInterval(renderNewTweets, 1500); //checks for new tweets every 1.5 seconds
        }

        
      });
    </script>
  </body>
</html>
